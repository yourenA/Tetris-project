"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),Block=function(){function e(t){_classCallCheck(this,e),this.siteSize=t}return _createClass(e,[{key:"canMove",value:function(){var e=document.querySelector(".activityModel"),t=parseInt(e.style.top),o=parseInt(e.style.left),n=!0,i=!0,a=!0,l=!0;return o+20>=this.siteSize.left+this.siteSize.width&&(n=!1),o-20<this.siteSize.left&&(l=!1),t+20>=this.siteSize.top+this.siteSize.height&&(a=!1),t-20<this.siteSize.top&&(i=!1),{canMoveRight:n,canMoveLeft:l,canMoveTop:i,canMoveDown:a}}},{key:"move",value:function(){var e=this;document.onkeydown=function(t){var o=document.querySelector(".activityModel"),n=parseInt(o.style.left?parseInt(o.style.left):0),i=parseInt(o.style.top?parseInt(o.style.top):0),a=void 0,l=void 0,s=void 0,c=void 0,r=t.keyCode;switch(console.log("key",r),r){case 37:l=e.canMove().canMoveLeft,l?o.style.left=n-20+"px":console.log("can`t move left");break;case 38:s=e.canMove().canMoveTop,s?o.style.top=i-20+"px":console.log("can`t move top");break;case 39:a=e.canMove().canMoveRight,a?o.style.left=n+20+"px":console.log("can`t move right");break;case 40:c=e.canMove().canMoveDown,c?o.style.top=i+20+"px":console.log("can`t move down");break;default:console.log("请选择上下左右按键")}}}},{key:"init",value:function(){var e=document.createElement("div");e.className="activityModel",e.style.top=this.siteSize.top+"px",e.style.left=this.siteSize.left+this.siteSize.width/2+"px",document.body.appendChild(e)}}]),e}();window.onload=function(){console.log("window onload");var e=document.querySelector(".site"),t=window.getComputedStyle(e),o=t.width,n=t.height,i=t.left,a=t.top,l={width:parseInt(o),height:parseInt(n),left:parseInt(i),top:parseInt(a)},s=new Block(l);s.init(),s.move()};